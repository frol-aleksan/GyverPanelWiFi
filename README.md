![PROJECT_PHOTO](https://github.com/vvip-68/GyverPanelWiFi/blob/master/proj_img.jpg)
# Крутая WiFi панель / гирлянда на esp8266 своими руками
* [Описание проекта](#chapter-0)
* [Папки проекта](#chapter-1)
* [Схемы подключения](#chapter-2)
* [Материалы и компоненты](#chapter-3)
* [Как скачать и прошить](#chapter-4)
* [Полезная информация](#chapter-5)

<a id="chapter-0"></a>
## Описание проекта
  
Этот проект основан на проекте ["Крутая WiFi лампа на esp8266 своими руками"](https://github.com/vvip-68/GyverLampWiFi)
с расширением возможностей работы на неквадратных широких матрицах с размерами от 23x11.  
Основное назначение проекта - настенные экраны больших размеров или гирлянды на широкие балконы.  
Также подходит с некоторыми ограничениями для матриц с размерами 16x16.
Ограничение связаны с невозможностью отображения часов крупным шрифтом 5x7 для которого требуется матрица не менее 23 пикселей по ширине.
Для матриц менее 23 колонок шириной в часах может использоваться только шрифт 3x5 для которого достаточно 15 колонок.

### Железо
- Проект собран на базе микроконтроллера ESP8266 в лице платы NodeMCU или Wemos D1 mini (неважно, какую из этих плат использовать)
- Реализована поддержка микроконтроллера ESP32, имеющего больший размер оперативной памяти и быстродействие, что позволяет управлять матрицами с большим количеством светодиодов
- Матрица может быть реализована на адресной ленте или отдельных светодиодах WS8212b, спаянных в нити гирлянды проводами
- Также для компактных панелей может использоваться соединение нескольких гибких адресных матриц 16×16, состоящих из 256 диодов с плотностью 100 штук на метр, что позволяет 
  легко получить панели размерами 32х16, 48x16, 64x16 и так далее (до 128 по ширине и/или высоте).
- Система управляется со смартфона по Wi-Fi в локальной сети или из любой точки мира через MQTT, а также “оффлайн” с кнопки на корпусе (сенсорная кнопка на TTP223 или 
  любая физическая кнопка с нормально разомкнутыми контактами)
- В случае реализации проекта в виде большой настенной матрицы поддерживается функционал будильника-рассвет и индикация текущего времени на индикаторе TM1637, 
  что позволяет в ночное время полностью выключать саму матрицу, оставляя возможность отображения текущего времени на этом индикаторе
- Поддерживается загрузка файлов анимации формата \*.out программы Glediator с SD-карты.

### Фишки
 - Более 80 крутых эффектов (с учетом разных вариантов - свыше 160!) с поддержкой отображения часов или текста бегущей строки поверх эффектов
 - 6 интерактивных игр: Лабиринт, Змейка, Тетрис, Арканоид, Runner, Flappy Bird (в программе-компаньоне "WiFiPlayer"), в том числе игры работают в деморежиме как самостоятельные эффекты
 - Отправка картинки со смартфона на матрицу (в программе-компаньоне "WiFiPlayer")
 - Рисование на матрице (в программе-компаньоне "WiFiPlayer")
 - Сохранение нарисованных изображений на SD-карте или во внутренней памяти микроконтроллера
 - Загрузка сохраненных изображений на матрицу и в программу "WiFiPlayer" для редактирования
 - Редактирование и создание картинок пользователя пригодных для загрузки на матрицу в утилите ["JinxFramer"](https://github.com/vvip-68/GyverPanelWiFi/wiki/JinxFramer---редактор-анимации,-роликов,-картинок).
 - Регулировка яркости эффектов относительно яркости часов или текста бегущей строки, отображаемых поверх эффектов
 - Возможность задания до 36 разных [текстовых строк](https://github.com/vvip-68/GyverPanelWiFi/wiki/Настройка-бегущей-строки), задание порядка их "воспроизведения" a также параметров отображения.
   Тексты задаются из программы на смартфоне без необходимости перепрошивки контроллера.
   [Как настроить.](https://github.com/vvip-68/GyverPanelWiFi/wiki/Настройка-бегущей-строки)
   [Обсуждение текстов.](https://github.com/vvip-68/GyverPanelWiFi/issues/102#issue-778611501)  
 - Поддержка текста бегущей строки с отображением оставшегося до события времени, например: "До Нового года осталось 5 дней 12 часов"
   и после наступления события - вывод специального текста, например: "С Новым 2022 годом!!!"
 - Текст бегущей строки может отображаться различными цветами внутри одной строки
 - Поддержка в бегущей строке шрифтов трех размеров: малый (5x8 точек), средний (8х13 точек), большой (10х16 точек) - [настраивается](https://github.com/vvip-68/GyverPanelWiFi/wiki/Большие-буквы-в-бегущей-строке) в скетче при компиляции проекта
 - Поддержка символов украинского и литовского языка (в этом случае - размер шрифта 5x11. 8x17, 10x20 точек)
 - Настройка скорости и вариаций отображения для каждого эффекта со смартфона
 - Поддержка эффектов анимации, подготовленных в программе [“Jinx!”](https://github.com/vvip-68/GyverPanelWiFi/wiki/Экспорт-эффектов-анимации-из-ПО-«Jinx!»), сохраненных на SD карту
 - Редактирование роликов анимации с SD-карты в утилите ["JinxFramer"](https://github.com/vvip-68/GyverPanelWiFi/wiki/JinxFramer---редактор-анимации,-роликов,-картинок).
 - [Создание кадров для эффекта "Анимация"](https://github.com/vvip-68/GyverPanelWiFi/wiki/Добавление-своей-анимации--к-эффекту-«Анимация») в утилите "JinxFramer" для последующего экспорта кода, пригодного для включения в скетч проекта.
 - Работа системы как в локальной сети, так и в режиме “точки доступа”
 - Система получает точное время из Интернета
 - Управление кнопкой: смена режима, настройка яркости, вкл/выкл, отображение текущего IP адреса устройства
 - Режим будильник-рассвет: менеджер будильников на неделю в приложении
 - Отображение текущего времени на индикаторе TM1637
 - Отображение текущего времени на матрице поверх эффектов
 - Отображение текстовых сообщений на матрице поверх эффектов
 - Настройка сервера синхронизации времени из программы на смартфоне 
 - Установка текущего времени со смартфона вручную, если не удалось подключиться к серверу времени NTP
 - Два режима работы индикатора времени TM1637 - светится постоянно или выключается вместе с панелью
 - Пока время не получено с сервера NTP - на индикаторе TM1637 отображается --:-- вне зависимости от настройки
   "Выключать индикатор при выключении панели"
 - Поддержка звука будильника / звука рассвета звуковой платой MP3 DFPlayer
 - Настройки сетевого подключения (SSID и пароль, статический IP) задаются в программе и сохраняются в EEPROM
 - Если не удается подключиться к сети (неверный пароль или имя сети) - автоматически создается точка подключения
   с именем PanelAP, пароль 12341234, IP 192.168.4.1. Подключившись к точке доступа из приложения
   можно настроить параметры сети. Если после задания параметров сети WiFi соединение установлено - 
   в приложении на смартфоне виден IP адрес подключения к сети WiFi.
 - Отображение текущего IP адреса устройства на индикаторе TM1637 или на матрице в режиме бегущей строки
 - Быстрое включение популярных режимов из приложения
 - Четыре программируемых по времени режима, позволяющие, например, настроить автоматическое выключение панели в ночное время
   и автоматическое включение панели вечером в назначенное время
 - Два специальных режима времени - "Рассвет" и "Закат". Время рассвета и заката на текущий день берется с сервера погоды при получении текущих погодных условия и температуры
 - Получение текущей температуры воздуха и погоды с сервера Яндекс.Погода или OpenWeatherMap. Полученные данные могут отображаться в бегущей строке или в режиме отображения времени вместе с часами
   Код региона (города) указывается в настройках в программе на смартфоне. Настройка погоды - [тут](https://github.com/vvip-68/GyverPanelWiFi/wiki/Настройка-получения-информации-о-погоде)  
 - Возможность управления из любой точки планеты через подключение к MQTT-серверу из приложения на смартфоне или с использованием ассистентов умного дома (Яндекс Алиса, Google Ассистент и т.д.)  
   Настройка подключения к MQTT-серверу [здесь](https://github.com/vvip-68/GyverPanelWiFi/wiki/Настройка-подключения-к-MQTT-серверу)  
   Описание API управления устройством [здесь](https://github.com/vvip-68/GyverPanelWiFi/wiki/API-управления-устройством)
 - Поддержка [составных матриц](https://github.com/vvip-68/GyverPanelWiFi/wiki/Сборная-матрица), собранных из стандартных матриц 8x8, 16x16, 8x32 в одну матрицу большого размера.
 - [Настройка](https://github.com/vvip-68/GyverPanelWiFi/wiki/Сборная-матрица) размеров матрицы (ширины и высоты), а также способ ее подключения - угол, направление из угла задаются в приложении-компаньоне
   WiFiPanelSetup без необходимости перепрошивки микроконтроллера.
 - ***Новое!*** Синхронизация эффектов между устройствами. Может быть создано до 10 групп устройств, количество устройств в группе - не ограничено.
 - ***Новое!*** Беспроводная трансляция эффектов на матрицу устройств из специализированных программ типа *Jinx!*, *Wixen Lights*, *xLights* и подобных по протоколу *sACN Streaming ACN E1.31 DMX*
 - ***Новое!*** Выбор порядка цветов в гирлянде прямо из приложения WiFiPanelSetup и тестовый режим для удобства выбора правильного порядка цветов в приложении PanelWiFi.
Запускаем тестовый режим, при этом три верхних ряда матрицы зажигаются красным, зеленым и синим цветом. Если выводимые цвета на матрице отличаются от порядка RGB, перебираем доступные варианты порядка цветов в приложении WiFiPanelSetup.
  
#### Эффекты:
- Часы (время/дата/температура по данным с погодного сервиса)
- Свет (заливка панели выбранным цветом)
- Снег
- Куб (выбор размеров кубика)
- Радуга (4 варианта, случайный выбор)
- Пейнтбол (разбивка на сегменты для широких матриц)
- Огонь (выбор цвета пламени)
- Matrix (выбор количества полосок)
- Шарики (выбор количества шариков)
- Метеоры
- Конфетти
- Переливы (59 палитр, случайный выбор, автопереключение)
- Дизайн (размер плиток)
- Контакт (2 варианта, случайный выбор)
- Звезды (4 варианта, случайный выбор)
- Штора (4 варианта)
- Цвета (плавная смена цвета)
- Светляки (3 варианта)
- Палитра (разбивка на сегменты для широких матриц)
- Циклон (разбивка на сегменты для широких матриц)
- Хаос
- Сияние
- Тени (меняющийся теневой рисунок на матрице)
- Maze (лабиринт, автоигра в деморежиме)
- Snake (змейка, автоигра в деморежиме)
- Tetris (тетрис, автоигра в деморежиме)
- Pong (арканоид, автоигра в деморежиме)
- Flappy («леталка», автоигра в деморежиме)
- Runner («прыгалка», автоигра в деморежиме)
- Одеяло (цветные «лоскуты»)
- Спектр (имитация индикатора звукового сигнала)
- Синус (2 варианта, случайный выбор, 55 палитр, случайный выбор, автопереключение)
- Узор
- Дождь
- Камин
- Стрелки (5 вариантов, случайный выбор)
- Погода (отображение текущей погоды или слайдшоу)
- Жизнь (автоигра на развитие популяции)
- Узоры (34 варианта, случайный выбор, автопереключение)
- Sinus (выбор количества синусоид)
- Попкорн (55 палитр, автопереключение)
- ДНК
- Прыжки (2 варианта, случайный выбор, 55 палитр)
- Спирали (54 палитры, случайный выбор, автопереключение, разбивка на сегменты для широких матриц)
- Ветер (55 палитр, случайный выбор, автопереключение)
- Nexus (2 варианта, случайный выбор)
- Cинycoид (8 вариантов, случайный выбор, автопереключение)
- Питон (60 палитр, случайный выбор, автопереключение)
- Cube (размер плиток; можно задавать прямоугольные плитки)
- Quantum (55 палитр, случайный выбор, автопереключение)
- Фeя (сложное поведение)
- Kaпли
- Ocциллятop (55 палитр, случайный выбор, автопереключение)
- Kипeниe (55 палитр, случайный выбор, автопереключение)
- Дpaжe (разбивка на сегменты для широких матриц)
- Boлны (4 варианта, случайный выбор, автопереключение, 55 палитр, случайный выбор, автопереключение)
- Круг (55 палитр, случайный выбор, автопереключение)
- Пикacco (3 варианта, случайный выбор)
- Люмeньep (55 палитр, случайный выбор, автопереключение)
- Шapы (55 палитр, случайный выбор, автопереключение)
- Море
- Дым (выбор цвета)
- Пyльc (8 вариантов, случайный выбор, автопереключение)
- Boда (60 палитр, случайный выбор, автопереключение)
- Bиxpи (55 палитр, случайный выбор, автопереключение)
- Стая (55 палитр, случайный выбор, автопереключение, количество объектов)
- Paдyжный змeй (сдвиг радуги на чешуйках)
- Паук (55 палитр, случайный выбор, автопереключение)
- Фонтан (цвет, количество объектов)
- Аврора (цвет сияния)
- Часы с циферблатом (2 варианта, выбор цвета часов)
- Салют (3 варианта, случайный выбор)
- Треки
- Краски (3 варианта, случайный выбор)
- Свеча (сдвиг свечи по горизонтали, выбор цвета пламени, разбивка на сегменты для широких матриц)
- Рубик (размер плиток)
- Кудри
- Лотос (выбор цвета)
- Елка (направление снега, движение елок, снег идет с декабря по февраль, с 24 декабря по 14 января елки в новогоднем наряде)
- Песок (выбор цвета, разбивка на сегменты для широких матриц)
- Лента
- Stars (выбор количества лучей, 55 палитр, случайный выбор, автопереключение)
- Лампа (2 варианта, случайный выбор; для 1 варианта 55 палитр, автопереключение)
- Koдoвый зaмoк (55 палитр, случайный выбор, автопереключение)
- Серпантин
- Tixy Land (26 вариантов, случайный выбор, автопереключение)
- Spin
- Анимация (4 варианта, случайный выбор)
- Утро (плавно разгорающийся рассветный эффект)
- SD-карта (воспроизведение эффектов с SD-карты)

#### Игры:
Доступны в приложении-компаньоне "WiFiPlayer"   
 - Лабиринт
 - Змейка
 - Тетрис
 - Арканоид
 - Runner
 - Flappy Bird
 - Режим рисования
 - Загрузка картинок с SD-карты или из внутренней памяти

### Кнопка управления режимами, последовательность переключения:
#### Будильник сработал, идет рассвет или мелодия пробуждения
- Любое нажатие кнопки отключает будильник
#### Долгое удержание кнопки 
- При включенной панели - плавное изменение яркости
- При выключенной панели - включение яркой белой панели освещения (только для сборки типа "Лампа" - DEVICE_TYPE == 0)
#### Однократное нажатие кнопки
- Включение / выключение панели. При включении возобновляется режим на котором панель была выключена.
#### Двухкратное нажатие кнопки
- Ручной переход к следующему режиму
#### Трехкратное нажатие кнопки
- Включение демо-режима с автоматической сменой режимов по циклу
#### Четырехкратное нажатие кнопки
- Включение яркой белой панели освещения из любого режима, даже если панель была "выключена" /для сборки типа "Лампа"/  
  Отображение IP адреса панели на матрице и на индикаторе TM1637, если подключение к локальной WiFi сети установлено  /для сборки типа "Панель"/  
#### Пятикратное нажатие кнопки
- На индикаторе TM1637 и на матрице отображается IP адрес панели, если подключение к локальной WiFi сети установлено /для сборки типа "Лампа"/

<a id="chapter-1"></a>
## Папки
**ВНИМАНИЕ! Если это твой первый опыт работы с Arduino, читай [инструкцию](#chapter-4)**
- **Android** - файлы с приложениями, примерами для Android и MIT App Inventor
- **firmware** - прошивки
- **libraries** - библиотеки проекта.
- **pics** - примеры картинок для загрузки / отображении на матрице
- **schemes** - схемы подключения компонентов
- **sounds** - звуковые файлы будильника для размещения на SD-карте
- **tools** - полезные утилиты, Jinx! и другие
- **wiki** - файлы раздела wiki-страниц GitHub 

<a id="chapter-2"></a>
## Схема

Варианты схем с различным набором компонент, для микроконтроллеров **ESP8266** - NodeMCU, Wemos d1 mini, **ESP32** представлены [здесь](https://github.com/vvip-68/GyverPanelWiFi/wiki/%D0%92%D0%B0%D1%80%D0%B8%D0%B0%D0%BD%D1%82%D1%8B-%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2.-%D0%A1%D1%85%D0%B5%D0%BC%D1%8B.).
![SCHEME](https://github.com/vvip-68/GyverPanelWiFi/blob/master/schemes/schemes.png)

Схема сборно-разборной матрицы на разъемах:
![SCHEME](https://github.com/frol-aleksan/GyverPanelWiFi/blob/master/schemes/matrix%20scheme.jpg)

Схема соединения двух и более матриц одинаковой высоты в единую широкую матрицу:
![SCHEME](https://github.com/frol-aleksan/GyverPanelWiFi/blob/master/schemes/wide%20matrix%20scheme.jpg)

Примечания к схеме:
Линию +5В к последнему разъему на шине питания не подводить, поскольку каждая следующая матрица будет питаться от собственного блока питания. При этом земли всех матриц должны быть соединены вместе.

Направление разъемов на схеме соответствует действительности:
====< - «мама» (разъем с отверстиями)
====> - «папа» (разъем с штырьками)

Таким образом, со стороны всех входов будут «папы», со стороны выходов - «мамы».
Данный подход позволяет разъединять компоненты матрицы для удобства хранения, транспортировки и увеличивать размеры матрицы  в ширину путем соединения нескольких матриц одинаковой высоты, учитывая необходимость подведения питания к точке подключения каждой матрицы. Также секции матрицы можно отсоединить от шины питания и просто соединить между собой в одну линейную гирлянду.

Стоит иметь ввиду, что максимальная длина провода до точки подключения, при которой матрица работает стабильно, составляет около 3 метров. Далее матрица начинает «шуметь» (поверх выводимых эффектов наблюдается сильное мерцание), а если это расстояние превышает 3.5-4 метра - начинают мигать в произвольном порядке первые 15-20 модулей, а остальная часть матрицы вообще не горит. Если наблюдаются подобные артефакты, в первую очередь необходимо укоротить провод до точки подключения матрицы.

Необходимое количество гирлянд и разъемов, а также примерную мощность блока питания можно посчитать в калькуляторе GyverMatrixCalculator по ссылке:
https://github.com/frol-aleksan/GyverMatrixCalculator

Вариант релизации от [Дмитрия (7918514)](https://github.com/7918514) - схемы, фотографии сборки и готового изделия, печатные платы - все материалы доступны по [ссылке](https://disk.yandex.ru/d/fIo2UEuKpR54hg) в папке "Монстр".

<a id="chapter-3"></a>
## Материалы и компоненты
### Ссылки оставлены на магазины
Полный список компонентов есть в статье https://alexgyver.ru/matrix_guide/
- NodeMCU http://ali.ski/_1FJZ, https://ali.onl/1FjU
- Wemos D1 mini http://ali.ski/FuTgbO, https://ali.onl/1FjS https://ali.onl/1Fk1
- Wemos D1 mini Pro https://ali.onl/1FjT https://ali.onl/1Fk0
- Матрица 16x16 http://ali.ski/BCKQT http://ali.ski/bRW14 http://ali.ski/X-tBrQ
- Адресная лента (для DIY матрицы) http://ali.ski/rqgqdq  http://ali.ski/4Ma9iH
- Готовая гирлянда на 20/50/100 диодов (2м/5м/10м) https://ali.onl/1Fk3 https://ali.onl/1Fk4 https://ali.onl/1Fk5
- Сенсорная кнопка http://ali.ski/aWQBAa  http://ali.ski/rsOrSB
- Резисторы http://ali.ski/UEez2
- БП 5V (брать 3A минимум) http://ali.ski/K-CThT  http://ali.ski/3UWXJ
- MP3 DFPlayer http://ali.onl/1gY1 http://ali.onl/1gY3
- SD card shield https://ali.onl/1FjV https://ali.onl/1FjW https://ali.onl/1FjZ
- Динамики http://ali.onl/1h3u https://ali.onl/1FjX
- Проводочки http://ali.ski/JQRler  http://ali.ski/_SuCF
- Дисплеи TM1637 https://ali.onl/1Fkg https://ali.onl/1Fkf
- Диоды кремниевые выпрямительные https://ali.onl/1Fmw https://ali.onl/1Fmy
- MOSFET IRF4905 https://ali.onl/1Fsl https://ali.onl/1Fsm
- MOSFET IRF3205 https://ali.onl/1Fsn https://ali.onl/1Fso
- Реле управления питанием https://ali.onl/1HBY https://ali.onl/1HBZ https://ali.onl/1HC0

Актуальные ссылки на компоненты, по которым я закупаюсь сам лично; плюшек от продавцов не имею никаких:
- Гирлянда: https://aliexpress.ru/item/1005003294515692.html
Раньше была едва ли не самая дешевая на Али, особенно если брать сразу много, но сейчас есть варианты и подешевле. Стоит иметь ввиду, что закупать гирлянды лучше сразу на весь проект, потому что от партии к партии яркость/цветовая температура может отличаться. За все время с 2020 по 2022 год заказывал у этого продавца 23 гирлянды, из них оказался полностью поврежденный всего один модуль и еще два под вопросом (сигнал принимают, зажигаются, но дальше по цепочке не передают; может они были такие изначально, а может выходы повредились при эксплуатации - сложно сказать).
- У этого же продавца есть еще одна позиция, где стоимость гирлянд выходит несколько ниже: https://aliexpress.ru/item/32966680881.html
- Еще пара вариантов недорогих гирлянд:
  https://aliexpress.ru/item/4000547380572.html
  https://aliexpress.ru/item/1005002322603523.html
- Самый дешевый из тех, что попадались мне, но самый спорный по отзывам вариант: https://aliexpress.ru/item/1005003296965934.html
- Как альтернативный ультрабюджетный, хотя и не очень удобный способ раздобыть адресные гирлянды можно предложить заказ через "фикспрайс-распродажу".
  В разделе "все по ~400" попадаются готовые 10-метровые гирлянды по 100 модулей вместе с контроллерами (в основом разделе Алиэкспресса они идут минимум в полтора-два раза дороже). Главное не перепутать их с гирляндами из более дешевых категорий - там идут простые RGB. Контроллеры, как положено, малофункциональные, но для самодельщика главное - сама гирлянда. Тип модулей вроде как 2812 (но это не точно, впрочем, от ESP стартуют), но очередность цветов в них может быть абсолютно разная. Так, у меня в двух из трех заказанных таким способом гирлянд это RGB и в третьей - BGR, поэтому нужно смотреть внимательно, чтобы выбранные гирлянды были одинаковыми. Основное неудобство - гирлянды придется резать, соответственно, надо брать их с большим запасом, чтобы не собирать секции из обрезков (это, как минимум, некрасиво и ненадежно).
- Матрица 16*16 с контроллером: https://aliexpress.ru/item/1005003698849342.html
Пользуюсь для отладки прошивки, контроллер применил вместе с куском гирлянды после сборки всех матриц. Просто матрицу можно найти дешевле, но вместе с контроллером это предложение остается более выгодным.
- Трехжильный провод 22AWG: https://aliexpress.ru/item/32966760012.html
- Трехпиновые разъемы: https://aliexpress.ru/item/32966181600.html
Нужны для возможности создания сборно-разборной и легко масштабируемой матрицы.
- Блок питания на 5В: https://aliexpress.ru/item/32969395947.html
Субъективно неплохие блоки, греются несильно. Брал на 6 и на 8 ампер. У восьмиамперных блоков питания выходной провод усилен.
- Гнездо питания на провод: https://aliexpress.ru/item/4000498662374.html
Брать 5.5/2.5! Не перепутайте!
- Плата NodeMCU: https://aliexpress.ru/item/1005001636634198.html
- Модуль MicroSD: https://aliexpress.ru/item/1005001636445853.html

## Вам скорее всего пригодится
* [Всё для пайки (паяльники и примочки)](http://alexgyver.ru/all-for-soldering/)
* [Недорогие инструменты](http://alexgyver.ru/my_instruments/)
* [Все существующие модули и сенсоры Arduino](http://alexgyver.ru/arduino_shop/)
* [Электронные компоненты](http://alexgyver.ru/electronics/)
* [Аккумуляторы и зарядные модули](http://alexgyver.ru/18650/)

<a id="chapter-4"></a>
## Как скачать и прошить
* [Первые шаги с Arduino](http://alexgyver.ru/arduino-first/) - ультра подробная статья по началу работы с Arduino, ознакомиться первым делом!
* Скачать архив с проектом
> На главной странице проекта (где ты читаешь этот текст) вверху справа зелёная кнопка **Clone or download**, вот её жми, там будет **Download ZIP**
* Установить библиотеки в  
`C:\Program Files (x86)\Arduino\libraries\` (Windows x64)  
`C:\Program Files\Arduino\libraries\` (Windows x86)
* **Подключить внешнее питание 5 Вольт**
* Подключить Arduino к компьютеру
* Запустить файл прошивки (который имеет расширение .ino)
* Настроить IDE (COM порт, модель Arduino, как в статье выше)
* Настроить что нужно по проекту
* Нажать загрузить
* Скачать и установить на смартфон GyverPanelWiFi
* Пользоваться  

**Подробная инструкция [тут](https://github.com/vvip-68/GyverPanelWiFi/wiki/%D0%9F%D0%BE%D1%88%D0%B0%D0%B3%D0%BE%D0%B2%D0%B0%D1%8F-%D0%B8%D0%BD%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%86%D0%B8%D1%8F-%D0%BF%D0%BE%D0%B4%D0%B3%D0%BE%D1%82%D0%BE%D0%B2%D0%BA%D0%B8-%D1%81%D1%80%D0%B5%D0%B4%D1%8B-%D0%B4%D0%BB%D1%8F-%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0)**

## Важно
Если проект не собирается (ошибки компиляции) или собирается, но работает неправильно (например вся матрица светится белым и ничего не происходит) - проверьте версии библиотек. Данный проект рассчитан на работу с версиями библиотек поддержки плат ESP версии 2.7.4 и библиотеки FastLED версии 3.2.9 или более новую (до 3.4.0);

**Не используйте библиотеку поддержки плат ESP8266 (ядро) версии 3.x.х и ESP32 версии 2.x.x - с ними проект работать не будет ввиду несовместимости с библиотекой FаstLED указанных версий**

Если в качестве микроконтроллера вы используете Wemos D1 - в менеджере плат для компиляции все равно выбирайте **"NodeMCU v1.0 (ESP-12E)"**, в противном случае, если выберете плату Wemos D1 (xxxx), - будет работать нестабильно, настройки не будут сохраняться в EEPROM, параметры подключения к локальной сети будут сбрасываться каждый раз при перезагрузке, плата вместо подключения к локальной сети будет каждый раз создавать точку доступа.

<a id="chapter-5"></a>
## Полезная информация
* [Cайт Alex Gyver](http://alexgyver.ru/)
* [Канал Alex Gyver на YouTube](https://www.youtube.com/channel/UCgtAOyEQdAyjvm9ATCi_Aig?sub_confirmation=1)
* [YouTube канал про Arduino](https://www.youtube.com/channel/UC4axiS76D784-ofoTdo5zOA?sub_confirmation=1)
* [Видеоуроки по пайке](https://www.youtube.com/playlist?list=PLOT_HeyBraBuMIwfSYu7kCKXxQGsUKcqR)
* [Видеоуроки по Arduino](http://alexgyver.ru/arduino_lessons/)

Добавлена инструкция по пользованию матрицей в формате DOCX. Документ сверстан так, чтобы его можно было распечатать и сшить в брошюру формата A5 (A4, сложенный пополам). Для печати брошюры в настройках принтера выберите печать на обеих сторонах. Печатать лучше всего из пакета Microsoft Office 2010 или новее. В других офисных пакетах верное отображение и печать документа не гарантируется (в Libre Office "едет" гарантированно).

P.S. Если какие-то из эффектов, добавленных мной, работают криво, просьба сообщать об этом и указывать размеры/направление/точку подключения матрицы.
Стараюсь тестировать под разные размеры матриц, но все равно все варианты учесть не могу.
